environment:
  global:
    CIBW_SKIP: cp33-* cp34-* cp35-*
    CIBW_TEST_REQUIRES: pytest pytest-cov
    CIBW_TEST_COMMAND: "cd {project}\\tests && pytest --cov"

build_script:
  - pip install cibuildwheel==0.9.2 coverage codecov
  - cibuildwheel --output-dir wheelhouse
  - coverage combine tests
  - codecov

artifacts:
  - path: "wheelhouse\\*.whl"
    name: Wheels

skip_branch_with_pr: true

